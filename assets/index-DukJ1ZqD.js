(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const i of e)if(i.type==="childList")for(const r of i.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function s(e){const i={};return e.integrity&&(i.integrity=e.integrity),e.referrerPolicy&&(i.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?i.credentials="include":e.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function o(e){if(e.ep)return;e.ep=!0;const i=s(e);fetch(e.href,i)}})();class m{constructor(t,s,o,e,i){this.x=t,this.y=s,this.width=o,this.height=e,this.moveX=0,this.moveY=0,this.jumpForce=-15,this.game=i,this.PlayerDiv=document.getElementById("player"),this.image=this.PlayerDiv.querySelector("img"),this.PlayerDiv.style.width=o+"px",this.PlayerDiv.style.height=e+"px",this.updatePosition(),this.keys={},this.setupInputHandlers()}setupInputHandlers(){window.addEventListener("keydown",t=>{this.keys[t.code]=!0}),window.addEventListener("keyup",t=>{this.keys[t.code]=!1})}handleInput(){this.keys.ArrowLeft?this.moveX=-3:this.keys.ArrowRight?this.moveX=3:this.moveX=0}updatePosition(){this.PlayerDiv.style.left=this.x+"px",this.PlayerDiv.style.top=this.y+"px"}update(){this.handleInput(),this.moveY+=this.game.gravity,this.x+=this.moveX,this.y+=this.moveY;const t="/Doodle-Jump-Clone/";this.moveX<0?this.image.src=`${t}doodleLeft.png`:this.moveX>0&&(this.image.src=`${t}doodle.png`),this.x<0?this.x=0:this.x+this.width>this.game.gameContainer.offsetWidth&&(this.x=this.game.gameContainer.offsetWidth-this.width),this.y<this.game.gameContainer.offsetHeight/2&&this.moveY<0&&(this.game.viewportOffset-=this.moveY,this.y-=this.moveY,this.game.platformManager.scrollPlatformsDown(-this.moveY),this.game.increaseScore(-this.moveY)),this.y>this.game.gameContainer.offsetHeight&&this.game.gameOver(),this.updatePosition()}jump(){this.moveY=this.jumpForce}}class n{constructor(t,s,o,e,i="normal",r){this.x=t,this.y=s,this.width=o,this.height=e,this.type=i,this.game=r,this.isMoving=i==="moving",this.moveSpeed=1,this.moveDirection=Math.random()<.5?-1:1,this.platformDiv=document.createElement("div"),this.platformDiv.className="platform platform-"+i,this.platformDiv.style.width=o+"px",this.platformDiv.style.height=e+"px",this.platformDiv.style.left=t+"px",this.platformDiv.style.top=s+"px";const h="/Doodle-Jump-Clone/";this.platformDiv.style.backgroundImage=`url('${h}platform-${i}.png')`,i==="spring"&&(this.springElement=document.createElement("div"),this.springElement.className="spring",this.springElement.style.left=o/2-10+"px",this.springElement.style.top="-10px",this.element.appendChild(this.springElement)),r.gameScreen.appendChild(this.platformDiv)}updatePosition(){this.platformDiv.style.left=this.x+"px",this.platformDiv.style.top=this.y+"px"}remove(){this.platformDiv.remove()}updateMovement(){this.isMoving&&(this.x+=this.moveSpeed*this.moveDirection,this.x<=0?this.moveDirection=1:this.x+this.width>=this.game.gameContainer.offsetWidth&&(this.moveDirection=-1),this.updatePosition())}}class l{constructor(t){this.game=t,this.platforms=[]}createInitialPlatforms(){this.platforms.push(new n(this.game.gameContainer.offsetWidth/2-50,this.game.gameContainer.offsetHeight-50,100,20,"normal",this.game));for(let t=0;t<7;t++){let s=Math.random()*(this.game.gameContainer.offsetWidth-100),o=this.game.gameContainer.offsetHeight-150-t*80,e=Math.random()<.2?"moving":"normal";this.platforms.push(new n(s,o,100,30,e,this.game))}}updatePlatforms(){for(this.platforms.forEach(t=>{t.updateMovement()}),this.platforms=this.platforms.filter(t=>t.y>this.game.gameContainer.offsetHeight?(t.remove(),!1):!0);this.platforms.length<10;){let t=Math.random()*(this.game.gameContainer.offsetWidth-100),o=this.platforms.reduce((i,r)=>r.y<i?r.y:i,this.game.gameContainer.offsetHeight)-Math.random()*80-50,e=Math.random()<.2?"moving":"normal";this.platforms.push(new n(t,o,100,30,e,this.game))}}scrollPlatformsDown(t){this.platforms.forEach(s=>{s.y+=t,s.updatePosition()})}checkCollisions(t){if(t.moveY>0){const s=t.PlayerDiv.getBoundingClientRect();this.platforms.forEach(o=>{const e=o.platformDiv.getBoundingClientRect();s.right>e.left&&s.left<e.right&&s.bottom>e.top&&s.bottom-t.moveY<=e.top&&(t.y=o.y-t.height,t.jump())})}}resetPlatforms(){this.platforms.forEach(t=>t.remove()),this.platforms=[],this.createInitialPlatforms()}}class f{constructor(t){this.game=t,this.scoreElement=document.getElementById("score"),this.gameOverElement=document.getElementById("game-over"),this.finalScoreElement=this.gameOverElement.querySelector(".final-score"),this.restartButton=document.getElementById("restart-button"),this.setupEventListeners()}setupEventListeners(){this.restartButton.addEventListener("click",()=>{this.hideGameOver(),this.game.restart()})}updateScore(){this.scoreElement.textContent=Math.floor(this.game.score)}showGameOver(t){this.finalScoreElement.textContent="Score: "+Math.floor(t),this.gameOverElement.classList.remove("hidden")}hideGameOver(){this.gameOverElement.classList.add("hidden")}}class c{constructor(){this.gameRunning=!1,this.score=0,this.viewportOffset=0,this.gravity=.5,this.gameContainer=null,this.gameScreen=null,this.player=null,this.platformManager=null,this.ui=null}init(){this.gameContainer=document.getElementById("game-container"),this.gameScreen=document.getElementById("game-screen"),this.ui=new f(this),this.platformManager=new l(this),this.player=new m(this.gameContainer.offsetWidth/2-15,this.gameContainer.offsetHeight-100,30,30,this),this.ui.updateScore(),this.platformManager.createInitialPlatforms(),this.gameRunning=!0,this.gameLoop()}gameLoop(){this.gameRunning&&(this.player.update(),this.platformManager.updatePlatforms(),this.platformManager.checkCollisions(this.player),requestAnimationFrame(()=>this.gameLoop()))}increaseScore(t){this.score+=t,this.ui.updateScore()}gameOver(){this.gameRunning=!1,this.ui.showGameOver(this.score),this.player.x=this.gameContainer.offsetWidth/2-this.player.width/2,this.player.y=this.gameContainer.offsetHeight-100,this.player.moveY=0,this.player.moveX=0,this.player.updatePosition();const t=localStorage.getItem("highScore")||0;this.score>t&&(this.ui.finalScoreElement.textContent="New High Score: "+Math.floor(this.score),localStorage.setItem("highScore",Math.floor(this.score)))}restart(){this.score=0,this.ui.updateScore(),this.platformManager.resetPlatforms(),this.gameRunning=!0,this.gameLoop()}}document.addEventListener("DOMContentLoaded",()=>{const a=new c,t=document.getElementById("menu-container"),s=document.getElementById("game-container");document.getElementById("start-button").addEventListener("click",function(){t.classList.add("hidden"),s.classList.remove("hidden"),a.init()})});
